!function(t,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define("engine",[],a):"object"==typeof exports?exports.engine=a():t.engine=a()}(this,function(){return function(t){function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var e={};return a.m=t,a.c=e,a.i=function(t){return t},a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="/lib/",a(a.s=19)}([function(t,a){var e={};e.EPSILON=1e-6,e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,e.ENABLE_SIMD=!1,e.SIMD_AVAILABLE=e.ARRAY_TYPE===Float32Array&&"SIMD"in this,e.USE_SIMD=e.ENABLE_SIMD&&e.SIMD_AVAILABLE,e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t};var n=Math.PI/180;e.toRadian=function(t){return t*n},e.equals=function(t,a){return Math.abs(t-a)<=e.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=e},function(t,a,e){a.glMatrix=e(0),a.mat2=e(25),a.mat2d=e(26),a.mat3=e(5),a.mat4=e(27),a.quat=e(28),a.vec2=e(29),a.vec3=e(6),a.vec4=e(7)},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=(a.library="lowww WebGL engine",a.version="1.0.0",a.env="build",void 0);a.setContext=function(t){n=t},a.getContext=function(){return n}},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=e(1),u=e(18),i=function(t){return t&&t.__esModule?t:{default:t}}(u),l=0,s=0,c=o.vec3.create(),f=function(){function t(){n(this,t),this.uid=l++,this.position=new i.default,this.rotation=new i.default,this.scale=new i.default(1,1,1),this.quaternion=o.quat.create(),this.parent=null,this.children=[],this.localMatrix=o.mat4.create(),this.modelMatrix=o.mat4.create()}return r(t,[{key:"updateMatrices",value:function(){o.mat4.identity(this.localMatrix),o.mat4.identity(this.modelMatrix),o.quat.identity(this.quaternion),this.parent&&(o.mat4.copy(this.localMatrix,this.parent.modelMatrix),o.mat4.multiply(this.modelMatrix,this.modelMatrix,this.localMatrix)),o.mat4.translate(this.modelMatrix,this.modelMatrix,this.position.data),o.quat.rotateX(this.quaternion,this.quaternion,this.rotation.x),o.quat.rotateY(this.quaternion,this.quaternion,this.rotation.y),o.quat.rotateZ(this.quaternion,this.quaternion,this.rotation.z),s=o.quat.getAxisAngle(c,this.quaternion),o.mat4.rotate(this.modelMatrix,this.modelMatrix,s,c),o.mat4.scale(this.modelMatrix,this.modelMatrix,this.scale.data)}}]),t}();a.default=f},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.BASIC_MATERIAL=100},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},r.clone=function(t){var a=new n.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},r.fromValues=function(t,a,e,r,o,u,i,l,s){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=a,c[2]=e,c[3]=r,c[4]=o,c[5]=u,c[6]=i,c[7]=l,c[8]=s,c},r.set=function(t,a,e,n,r,o,u,i,l,s){return t[0]=a,t[1]=e,t[2]=n,t[3]=r,t[4]=o,t[5]=u,t[6]=i,t[7]=l,t[8]=s,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,a){if(t===a){var e=a[1],n=a[2],r=a[5];t[1]=a[3],t[2]=a[6],t[3]=e,t[5]=a[7],t[6]=n,t[7]=r}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},r.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=a[6],s=a[7],c=a[8],f=c*u-i*s,M=-c*o+i*l,h=s*o-u*l,d=e*f+n*M+r*h;return d?(d=1/d,t[0]=f*d,t[1]=(-c*n+r*s)*d,t[2]=(i*n-r*u)*d,t[3]=M*d,t[4]=(c*e-r*l)*d,t[5]=(-i*e+r*o)*d,t[6]=h*d,t[7]=(-s*e+n*l)*d,t[8]=(u*e-n*o)*d,t):null},r.adjoint=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=a[6],s=a[7],c=a[8];return t[0]=u*c-i*s,t[1]=r*s-n*c,t[2]=n*i-r*u,t[3]=i*l-o*c,t[4]=e*c-r*l,t[5]=r*o-e*i,t[6]=o*s-u*l,t[7]=n*l-e*s,t[8]=e*u-n*o,t},r.determinant=function(t){var a=t[0],e=t[1],n=t[2],r=t[3],o=t[4],u=t[5],i=t[6],l=t[7],s=t[8];return a*(s*o-u*l)+e*(-s*r+u*i)+n*(l*r-o*i)},r.multiply=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=a[6],c=a[7],f=a[8],M=e[0],h=e[1],d=e[2],x=e[3],v=e[4],S=e[5],m=e[6],I=e[7],p=e[8];return t[0]=M*n+h*u+d*s,t[1]=M*r+h*i+d*c,t[2]=M*o+h*l+d*f,t[3]=x*n+v*u+S*s,t[4]=x*r+v*i+S*c,t[5]=x*o+v*l+S*f,t[6]=m*n+I*u+p*s,t[7]=m*r+I*i+p*c,t[8]=m*o+I*l+p*f,t},r.mul=r.multiply,r.translate=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=a[6],c=a[7],f=a[8],M=e[0],h=e[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t[4]=i,t[5]=l,t[6]=M*n+h*u+s,t[7]=M*r+h*i+c,t[8]=M*o+h*l+f,t},r.rotate=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=a[6],c=a[7],f=a[8],M=Math.sin(e),h=Math.cos(e);return t[0]=h*n+M*u,t[1]=h*r+M*i,t[2]=h*o+M*l,t[3]=h*u-M*n,t[4]=h*i-M*r,t[5]=h*l-M*o,t[6]=s,t[7]=c,t[8]=f,t},r.scale=function(t,a,e){var n=e[0],r=e[1];return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=r*a[3],t[4]=r*a[4],t[5]=r*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},r.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},r.fromRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=e,t[2]=0,t[3]=-e,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},r.fromQuat=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=e+e,i=n+n,l=r+r,s=e*u,c=n*u,f=n*i,M=r*u,h=r*i,d=r*l,x=o*u,v=o*i,S=o*l;return t[0]=1-f-d,t[3]=c-S,t[6]=M+v,t[1]=c+S,t[4]=1-s-d,t[7]=h-x,t[2]=M-v,t[5]=h+x,t[8]=1-s-f,t},r.normalFromMat4=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=a[6],s=a[7],c=a[8],f=a[9],M=a[10],h=a[11],d=a[12],x=a[13],v=a[14],S=a[15],m=e*i-n*u,I=e*l-r*u,p=e*s-o*u,b=n*l-r*i,D=n*s-o*i,F=r*s-o*l,y=c*x-f*d,w=c*v-M*d,g=c*S-h*d,_=f*v-M*x,E=f*S-h*x,A=M*S-h*v,P=m*A-I*E+p*_+b*g-D*w+F*y;return P?(P=1/P,t[0]=(i*A-l*E+s*_)*P,t[1]=(l*g-u*A-s*w)*P,t[2]=(u*E-i*g+s*y)*P,t[3]=(r*E-n*A-o*_)*P,t[4]=(e*A-r*g+o*w)*P,t[5]=(n*g-e*E-o*y)*P,t[6]=(x*F-v*D+S*b)*P,t[7]=(v*p-d*F-S*I)*P,t[8]=(d*D-x*p+S*m)*P,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t[6]=a[6]+e[6],t[7]=a[7]+e[7],t[8]=a[8]+e[8],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t[6]=a[6]-e[6],t[7]=a[7]-e[7],t[8]=a[8]-e[8],t},r.sub=r.subtract,r.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*e,t},r.multiplyScalarAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t[3]=a[3]+e[3]*n,t[4]=a[4]+e[4]*n,t[5]=a[5]+e[5]*n,t[6]=a[6]+e[6]*n,t[7]=a[7]+e[7]*n,t[8]=a[8]+e[8]*n,t},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=t[6],c=t[7],f=t[8],M=a[0],h=a[1],d=a[2],x=a[3],v=a[4],S=a[5],m=t[6],I=a[7],p=a[8];return Math.abs(e-M)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-d)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-x)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(i-v)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(l-S)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(s-m)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-I)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(f-p)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))},t.exports=r},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var a=new n.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},r.fromValues=function(t,a,e){var r=new n.ARRAY_TYPE(3);return r[0]=t,r[1]=a,r[2]=e,r},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},r.set=function(t,a,e,n){return t[0]=a,t[1]=e,t[2]=n,t},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t},r.sub=r.subtract,r.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t[2]=a[2]*e[2],t},r.mul=r.multiply,r.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t[2]=a[2]/e[2],t},r.div=r.divide,r.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},r.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},r.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t[2]=Math.min(a[2],e[2]),t},r.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t[2]=Math.max(a[2],e[2]),t},r.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},r.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t},r.scaleAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t},r.distance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1],r=a[2]-t[2];return Math.sqrt(e*e+n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1],r=a[2]-t[2];return e*e+n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var a=t[0],e=t[1],n=t[2];return Math.sqrt(a*a+e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var a=t[0],e=t[1],n=t[2];return a*a+e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},r.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},r.normalize=function(t,a){var e=a[0],n=a[1],r=a[2],o=e*e+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o),t},r.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},r.cross=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=e[0],i=e[1],l=e[2];return t[0]=r*l-o*i,t[1]=o*u-n*l,t[2]=n*i-r*u,t},r.lerp=function(t,a,e,n){var r=a[0],o=a[1],u=a[2];return t[0]=r+n*(e[0]-r),t[1]=o+n*(e[1]-o),t[2]=u+n*(e[2]-u),t},r.hermite=function(t,a,e,n,r,o){var u=o*o,i=u*(2*o-3)+1,l=u*(o-2)+o,s=u*(o-1),c=u*(3-2*o);return t[0]=a[0]*i+e[0]*l+n[0]*s+r[0]*c,t[1]=a[1]*i+e[1]*l+n[1]*s+r[1]*c,t[2]=a[2]*i+e[2]*l+n[2]*s+r[2]*c,t},r.bezier=function(t,a,e,n,r,o){var u=1-o,i=u*u,l=o*o,s=i*u,c=3*o*i,f=3*l*u,M=l*o;return t[0]=a[0]*s+e[0]*c+n[0]*f+r[0]*M,t[1]=a[1]*s+e[1]*c+n[1]*f+r[1]*M,t[2]=a[2]*s+e[2]*c+n[2]*f+r[2]*M,t},r.random=function(t,a){a=a||1;var e=2*n.RANDOM()*Math.PI,r=2*n.RANDOM()-1,o=Math.sqrt(1-r*r)*a;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*a,t},r.transformMat4=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=e[3]*n+e[7]*r+e[11]*o+e[15];return u=u||1,t[0]=(e[0]*n+e[4]*r+e[8]*o+e[12])/u,t[1]=(e[1]*n+e[5]*r+e[9]*o+e[13])/u,t[2]=(e[2]*n+e[6]*r+e[10]*o+e[14])/u,t},r.transformMat3=function(t,a,e){var n=a[0],r=a[1],o=a[2];return t[0]=n*e[0]+r*e[3]+o*e[6],t[1]=n*e[1]+r*e[4]+o*e[7],t[2]=n*e[2]+r*e[5]+o*e[8],t},r.transformQuat=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=e[0],i=e[1],l=e[2],s=e[3],c=s*n+i*o-l*r,f=s*r+l*n-u*o,M=s*o+u*r-i*n,h=-u*n-i*r-l*o;return t[0]=c*s+h*-u+f*-l-M*-i,t[1]=f*s+h*-i+M*-u-c*-l,t[2]=M*s+h*-l+c*-i-f*-u,t},r.rotateX=function(t,a,e,n){var r=[],o=[];return r[0]=a[0]-e[0],r[1]=a[1]-e[1],r[2]=a[2]-e[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},r.rotateY=function(t,a,e,n){var r=[],o=[];return r[0]=a[0]-e[0],r[1]=a[1]-e[1],r[2]=a[2]-e[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},r.rotateZ=function(t,a,e,n){var r=[],o=[];return r[0]=a[0]-e[0],r[1]=a[1]-e[1],r[2]=a[2]-e[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},r.forEach=function(){var t=r.create();return function(a,e,n,r,o,u){var i,l;for(e||(e=3),n||(n=0),l=r?Math.min(r*e+n,a.length):a.length,i=n;i<l;i+=e)t[0]=a[i],t[1]=a[i+1],t[2]=a[i+2],o(t,t,u),a[i]=t[0],a[i+1]=t[1],a[i+2]=t[2];return a}}(),r.angle=function(t,a){var e=r.fromValues(t[0],t[1],t[2]),n=r.fromValues(a[0],a[1],a[2]);r.normalize(e,e),r.normalize(n,n);var o=r.dot(e,n);return o>1?0:Math.acos(o)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=a[0],i=a[1],l=a[2];return Math.abs(e-u)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=r},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var a=new n.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},r.fromValues=function(t,a,e,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=e,o[3]=r,o},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},r.set=function(t,a,e,n,r){return t[0]=a,t[1]=e,t[2]=n,t[3]=r,t},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t},r.sub=r.subtract,r.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t[2]=a[2]*e[2],t[3]=a[3]*e[3],t},r.mul=r.multiply,r.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t[2]=a[2]/e[2],t[3]=a[3]/e[3],t},r.div=r.divide,r.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t[3]=Math.ceil(a[3]),t},r.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t[3]=Math.floor(a[3]),t},r.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t[2]=Math.min(a[2],e[2]),t[3]=Math.min(a[3],e[3]),t},r.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t[2]=Math.max(a[2],e[2]),t[3]=Math.max(a[3],e[3]),t},r.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t[3]=Math.round(a[3]),t},r.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t},r.scaleAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t[3]=a[3]+e[3]*n,t},r.distance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1],r=a[2]-t[2],o=a[3]-t[3];return Math.sqrt(e*e+n*n+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1],r=a[2]-t[2],o=a[3]-t[3];return e*e+n*n+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var a=t[0],e=t[1],n=t[2],r=t[3];return Math.sqrt(a*a+e*e+n*n+r*r)},r.len=r.length,r.squaredLength=function(t){var a=t[0],e=t[1],n=t[2],r=t[3];return a*a+e*e+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},r.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},r.normalize=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=e*e+n*n+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=e*u,t[1]=n*u,t[2]=r*u,t[3]=o*u),t},r.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},r.lerp=function(t,a,e,n){var r=a[0],o=a[1],u=a[2],i=a[3];return t[0]=r+n*(e[0]-r),t[1]=o+n*(e[1]-o),t[2]=u+n*(e[2]-u),t[3]=i+n*(e[3]-i),t},r.random=function(t,a){return a=a||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),r.normalize(t,t),r.scale(t,t,a),t},r.transformMat4=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3];return t[0]=e[0]*n+e[4]*r+e[8]*o+e[12]*u,t[1]=e[1]*n+e[5]*r+e[9]*o+e[13]*u,t[2]=e[2]*n+e[6]*r+e[10]*o+e[14]*u,t[3]=e[3]*n+e[7]*r+e[11]*o+e[15]*u,t},r.transformQuat=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=e[0],i=e[1],l=e[2],s=e[3],c=s*n+i*o-l*r,f=s*r+l*n-u*o,M=s*o+u*r-i*n,h=-u*n-i*r-l*o;return t[0]=c*s+h*-u+f*-l-M*-i,t[1]=f*s+h*-i+M*-u-c*-l,t[2]=M*s+h*-l+c*-i-f*-u,t[3]=a[3],t},r.forEach=function(){var t=r.create();return function(a,e,n,r,o,u){var i,l;for(e||(e=4),n||(n=0),l=r?Math.min(r*e+n,a.length):a.length,i=n;i<l;i+=e)t[0]=a[i],t[1]=a[i+1],t[2]=a[i+2],t[3]=a[i+3],o(t,t,u),a[i]=t[0],a[i+1]=t[1],a[i+2]=t[2],a[i+3]=t[3];return a}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=t[3],i=a[0],l=a[1],s=a[2],c=a[3];return Math.abs(e-i)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},t.exports=r},function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0}),a.Perspective=a.Orthographic=void 0;var r=e(15),o=n(r),u=e(16),i=n(u);a.Orthographic=o.default,a.Perspective=i.default},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function o(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),i=e(3),l=function(t){return t&&t.__esModule?t:{default:t}}(i),s=e(2),c=function(t){function a(t,e){n(this,a);var o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o.geometry={positions:new Float32Array(t.positions),indices:new Uint16Array(t.indices),normals:new Float32Array(t.normals),uvs:new Float32Array(t.uvs)},o.material=e,Object.assign(o.material.attributes,{a_position:{type:"vec3",value:o.geometry.positions},a_normal:{type:"vec3",value:o.geometry.normals},a_uv:{type:"vec2",value:o.geometry.uvs}}),Object.assign(o.material,{indices:o.geometry.indices}),o}return o(a,t),u(a,[{key:"destroy",value:function(){this.material.destroy()}},{key:"update",value:function(){var t=(0,s.getContext)();this.material.update(),t.drawElements(t.TRIANGLES,this.geometry.indices.length,t.UNSIGNED_SHORT,0)}}]),a}(l.default);a.default=c},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function o(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),i=e(1),l=e(3),s=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function a(){n(this,a);var t=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.lights=[],t.modelViewMatrix=i.mat4.create(),t}return o(a,t),u(a,[{key:"addModel",value:function(t){t.parent=this,this.children.push(t)}},{key:"removeModel",value:function(t){var a=this.children.indexOf(t);-1!==a&&(t.destroy(),this.children.splice(a,1))}},{key:"traverse",value:function(t){void 0===t&&(t=this);for(var a=0;a<t.children.length;a+=1)this.traverse(t.children[a]);null!==t.parent&&t.updateMatrices()}}]),a}(s.default);a.default=c},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Obj=void 0;var n=e(20),r=function(t){return t&&t.__esModule?t:{default:t}}(n);a.Obj=r.default},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Basic=void 0;var n=e(21),r=function(t){return t&&t.__esModule?t:{default:t}}(n);a.Basic=r.default},function(t,a,e){"use strict";(function(t){function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=e(1),u=e(2),i=!1,l=void 0,s=void 0,c=function(){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,a),this.ratio=t.devicePixelRatio;var r=e.canvas||this.createCanvas(),o=r.getContext("webgl2",{antialias:e.antialias||!1});if(o){if(!1!==e.greeting){var l,s="color:#f33;font-size:x-small",c=["%c"+u.library+"\n%cversion: %c"+u.version+" %crunning: %cwebgl 2.0","color:#666;font-size:x-small;font-weight:bold;","color:#777;font-size:x-small",s,"color:#777;font-size:x-small",s];(l=console).log.apply(l,c)}(0,u.setContext)(o),i=!0}else alert("webgl2 not supported")}return r(a,[{key:"createCanvas",value:function(){var a=document.createElement("canvas");return a.style.display="block",a.style.boxSizing="border-box",a.style.width=t.innerWidth*t.devicePixelRatio,a.style.height=t.innerHeight*t.devicePixelRatio,document.body.appendChild(a),a}},{key:"setSize",value:function(t,a){var e=t*this.ratio,n=a*this.ratio,r=(0,u.getContext)();r.canvas.width=e,r.canvas.height=n,r.canvas.style.width=e/this.ratio+"px",r.canvas.style.height=n/this.ratio+"px"}},{key:"setRatio",value:function(t){this.ratio=t}},{key:"render",value:function(t,a){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i){var n=(0,u.getContext)();n.viewport(0,0,n.canvas.width,n.canvas.height),e&&(n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)),n.enable(n.CULL_FACE),n.enable(n.DEPTH_TEST),a.updateCameraMatrix(n.canvas.width,n.canvas.height),o.mat4.identity(t.modelViewMatrix),o.mat4.lookAt(t.modelViewMatrix,a.position.data,a.target,a.up),t.traverse();for(var r=0,c=t.children.length;r<c;r++){if(l=t.children[r],!l.material.program)return void l.material.init();s!==l.material.program&&(s=l.material.program,n.useProgram(s)),l.material.bind(),l.update(),l.material.unbind(),l=null}}}}]),a}();a.default=c}).call(a,e(31))},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.geometry=void 0;var n=e(24),r=function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}(n);a.geometry=r},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function o(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),i=e(1),l=e(3),s=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function a(t){n(this,a);var e=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return Object.assign(e,{near:.1,far:100,z:99},t),e.target=i.vec3.create(),e.up=i.vec3.fromValues(0,1,0),e.projectionMatrix=i.mat4.create(),e}return o(a,t),u(a,[{key:"lookAt",value:function(t){i.vec3.copy(this.target,t)}},{key:"updateCameraMatrix",value:function(t,a){i.mat4.ortho(this.projectionMatrix,-1,1,-1,1,this.near,this.far)}}]),a}(s.default);a.default=c},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function o(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),i=e(1),l=e(3),s=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function a(t){n(this,a);var e=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return Object.assign(e,{near:.1,far:1e3,fov:35},t),e.target=i.vec3.create(),e.up=i.vec3.fromValues(0,1,0),e.projectionMatrix=i.mat4.create(),e}return o(a,t),u(a,[{key:"lookAt",value:function(t){i.vec3.copy(this.target,t)}},{key:"updateCameraMatrix",value:function(t,a){i.mat4.perspective(this.projectionMatrix,this.fov*Math.PI/180,t/a,this.near,this.far)}}]),a}(s.default);a.default=c},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=e(23),u=function(t){return t&&t.__esModule?t:{default:t}}(o),i=e(22),l=e(2),s={},c=function(){function t(){n(this,t),this.defines={},this.attributes={},this.uniforms={},this.vertex="",this.fragment="",this.vao=new u.default,this.program=null}return r(t,[{key:"init",value:function(){var t=(0,l.getContext)();this.vertex=this.generateVertexShader(),this.fragment=this.generateFragmentShader();var a="shader-"+this.type;if(void 0===s[a]){var e=(0,i.createProgram)(t,this.vertex,this.fragment);s[a]=e}this.program=s[a];for(var n in this.attributes){var r=this.attributes[n],o=t.getAttribLocation(this.program,n),u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,r.value,t.STATIC_DRAW);var c=void 0;switch(r.type){case"vec3":case"vec2":c=3;break;default:c=1}Object.assign(r,{location:o,buffer:u,size:c})}this.indices&&(this.indexBuffer=t.createBuffer()),this.vao.bind(),this.bind(),this.vao.unbind()}},{key:"destroy",value:function(){}},{key:"generateVertexShader",value:function(){return"#version 300 es\n            in vec3 a_position;\n\n            void main() {\n                gl_Position = vec4(a_position, 1.0);\n            }\n        "}},{key:"generateFragmentShader",value:function(){return"#version 300 es\n            precision highp float;\n            precision highp int;\n\n            out vec4 outColor;\n\n            void main() {\n                outColor = vec4(1.0, 0.0, 1.0, 1.0);\n            }\n        "}},{key:"bind",value:function(){var t=this,a=(0,l.getContext)();Object.keys(this.attributes).forEach(function(e){var n=t.attributes[e],r=n.location,o=n.buffer,u=n.size;-1!==r&&(a.enableVertexAttribArray(r),a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(r,u,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,null))}),this.indices&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW))}},{key:"update",value:function(){}},{key:"unbind",value:function(){var t=(0,l.getContext)();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}}]),t}();a.default=c},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=e(1),u=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n(this,t),this.data=o.vec3.fromValues(a,e,r)}return r(t,[{key:"x",set:function(t){o.vec3.set(this.data,t,this.data[1],this.data[2])},get:function(){return this.data[0]}},{key:"y",set:function(t){o.vec3.set(this.data,this.data[0],t,this.data[2])},get:function(){return this.data[1]}},{key:"z",set:function(t){o.vec3.set(this.data,this.data[0],this.data[1],t)},get:function(){return this.data[2]}}]),t}();a.default=u},function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}Object.defineProperty(a,"__esModule",{value:!0}),a.loaders=a.utils=a.materials=a.Model=a.Scene=a.cameras=a.Renderer=a.constants=a.session=void 0;var o=e(2),u=r(o),i=e(13),l=n(i),s=e(8),c=r(s),f=e(10),M=n(f),h=e(9),d=n(h),x=e(12),v=r(x),S=e(14),m=r(S),I=e(11),p=r(I),b=e(4),D=r(b);a.session=u,a.constants=D,a.Renderer=l.default,a.cameras=c,a.Scene=M.default,a.Model=d.default,a.materials=v,a.utils=m,a.loaders=p},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=function(){function t(){n(this,t)}return r(t,null,[{key:"parse",value:function(t){var a=[],e=[],n=[],r={};r.verts=[],r.norms=[],r.textures=[],r.hashindices={},r.indices=[],r.index=0;for(var o=t.split("\n"),u=/^v\s/,i=/^vn\s/,l=/^vt\s/,s=/^f\s/,c=/\s+/,f=0;f<o.length;f++){var M=o[f].trim(),h=M.split(c);if(h.shift(),u.test(M))a.push.apply(a,h);else if(i.test(M))e.push.apply(e,h);else if(l.test(M))n.push.apply(n,h);else if(s.test(M))for(var d=!1,x=0;x<h.length;x++){if(3!==x||d||(x=2,d=!0),h[x]in r.hashindices)r.indices.push(r.hashindices[h[x]]);else{var v=h[x].split("/");r.verts.push(+a[3*(v[0]-1)+0]),r.verts.push(+a[3*(v[0]-1)+1]),r.verts.push(+a[3*(v[0]-1)+2]),n.length&&(r.textures.push(+n[2*(v[1]-1)+0]),r.textures.push(+n[2*(v[1]-1)+1])),r.norms.push(+e[3*(v[2]-1)+0]),r.norms.push(+e[3*(v[2]-1)+1]),r.norms.push(+e[3*(v[2]-1)+2]),r.hashindices[h[x]]=r.index,r.indices.push(r.index),r.index+=1}3===x&&d&&r.indices.push(r.hashindices[h[0]])}}return{positions:r.verts,indices:r.indices,normals:r.norms,uvs:r.textures}}},{key:"load",value:function(a,e){t.loadFile(a).then(function(a){e(t.parse(a))})}},{key:"loadFile",value:function(t){return new Promise(function(a,e){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){200===n.status?a(n.response):e(Error(n.statusText))},n.onerror=function(){e(Error("Network Error"))},n.send()})}}]),t}();a.default=o},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function o(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var u=e(4),i=e(17),l=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(t){function a(){n(this,a);var t=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.type=u.BASIC_MATERIAL,t}return o(a,t),a}(l.default);a.default=s},function(t,a,e){"use strict";function n(t,a,e){var n=t.createShader(e);if(t.shaderSource(n,a),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var r=t.getShaderInfoLog(n);console.error("Error compiling shader",r),t.deleteShader(n)}return n}Object.defineProperty(a,"__esModule",{value:!0});a.createProgram=function(t,a,e){var r=n(t,a,t.VERTEX_SHADER),o=n(t,e,t.FRAGMENT_SHADER),u=t.createProgram();return t.attachShader(u,r),t.attachShader(u,o),t.linkProgram(u),u}},function(t,a,e){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),o=e(2),u=function(){function t(){n(this,t);var a=(0,o.getContext)();this.vao=a.createVertexArray(),a.bindVertexArray(this.vao)}return r(t,[{key:"bind",value:function(){(0,o.getContext)().bindVertexArray(this.vao)}},{key:"unbind",value:function(){(0,o.getContext)().bindVertexArray(null)}},{key:"destroy",value:function(){(0,o.getContext)().deleteVertexArray(this.vao),this.vao=null}}]),t}();a.default=u},function(t,a,e){"use strict";function n(t){for(var a=[],e=0;e<t.length;e++)Array.isArray(t[e])||t[e]instanceof Float32Array?a=a.concat(n(t[e])):a.push(t[e]);return a}function r(t,a){for(var e=[],n=0;n<t.length;n+=a){for(var r=[],o=0;o<a;o++)r.push(t[n+o]);e.push(r)}return e}function o(t,a){if(void 0!==a){for(var e=r(a,3),o=r(t,3),u=[],l=i.vec3.create(),s=i.vec3.create(),c=i.vec3.create(),f=void 0,M=void 0,h=void 0,d=0;d<e.length;d++){var x=e[d],v=x[0],S=x[1],m=x[2];f=o[v],M=o[S],h=o[m],i.vec3.subtract(l,h,M),i.vec3.subtract(s,f,M),i.vec3.cross(c,l,s),void 0===u[v]&&(u[v]=i.vec3.create()),void 0===u[S]&&(u[S]=i.vec3.create()),void 0===u[m]&&(u[m]=i.vec3.create()),i.vec3.add(u[v],u[v],c),i.vec3.add(u[S],u[S],c),i.vec3.add(u[m],u[m],c)}for(var I=0;I<u.length;I++)i.vec3.normalize(u[I],u[I]);return new Float32Array(n(u,3))}}function u(t){for(var a=r(t.positions,3),e={},u=[],i=[],l=Math.pow(10,4),s=0;s<a.length;s++){var c=a[s],f="\n            "+Math.round(c[0]*l)+"_\n            "+Math.round(c[1]*l)+"_\n            "+Math.round(c[2]*l)+"\n        ";void 0===e[f]?(e[f]=s,u.push(a[s]),i[s]=u.length-1):i[s]=i[e[f]]}for(var M=[],h=r(t.indices,3),d=0;d<h.length;d++){var x=h[d];x[0]=i[x[0]],x[1]=i[x[1]],x[2]=i[x[2]];for(var v=[x[0],x[1],x[2]],S=0;S<3;S++)if(v[S]===v[(S+1)%3]){M.push(d);break}}var m=n(u,3),I=n(h,3);return{positions:new Float32Array(m),indices:new Uint16Array(I),normals:new Float32Array(o(m,I))}}Object.defineProperty(a,"__esModule",{value:!0}),a.flatten=n,a.unflatten=r,a.generateVertexNormals=o,a.mergeVertices=u;var i=e(1);e(30)},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var a=new n.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.fromValues=function(t,a,e,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=e,o[3]=r,o},r.set=function(t,a,e,n,r){return t[0]=a,t[1]=e,t[2]=n,t[3]=r,t},r.transpose=function(t,a){if(t===a){var e=a[1];t[1]=a[2],t[2]=e}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},r.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=e*o-r*n;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-r*u,t[3]=e*u,t):null},r.adjoint=function(t,a){var e=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=e,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=e[0],l=e[1],s=e[2],c=e[3];return t[0]=n*i+o*l,t[1]=r*i+u*l,t[2]=n*s+o*c,t[3]=r*s+u*c,t},r.mul=r.multiply,r.rotate=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=Math.sin(e),l=Math.cos(e);return t[0]=n*l+o*i,t[1]=r*l+u*i,t[2]=n*-i+o*l,t[3]=r*-i+u*l,t},r.scale=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=e[0],l=e[1];return t[0]=n*i,t[1]=r*i,t[2]=o*l,t[3]=u*l,t},r.fromRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,a,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,a,e]},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t},r.sub=r.subtract,r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=t[3],i=a[0],l=a[1],s=a[2],c=a[3];return Math.abs(e-i)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},r.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t},r.multiplyScalarAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t[3]=a[3]+e[3]*n,t},t.exports=r},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var a=new n.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.fromValues=function(t,a,e,r,o,u){var i=new n.ARRAY_TYPE(6);return i[0]=t,i[1]=a,i[2]=e,i[3]=r,i[4]=o,i[5]=u,i},r.set=function(t,a,e,n,r,o,u){return t[0]=a,t[1]=e,t[2]=n,t[3]=r,t[4]=o,t[5]=u,t},r.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=e*o-n*r;return l?(l=1/l,t[0]=o*l,t[1]=-n*l,t[2]=-r*l,t[3]=e*l,t[4]=(r*i-o*u)*l,t[5]=(n*u-e*i)*l,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=e[0],c=e[1],f=e[2],M=e[3],h=e[4],d=e[5];return t[0]=n*s+o*c,t[1]=r*s+u*c,t[2]=n*f+o*M,t[3]=r*f+u*M,t[4]=n*h+o*d+i,t[5]=r*h+u*d+l,t},r.mul=r.multiply,r.rotate=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=Math.sin(e),c=Math.cos(e);return t[0]=n*c+o*s,t[1]=r*c+u*s,t[2]=n*-s+o*c,t[3]=r*-s+u*c,t[4]=i,t[5]=l,t},r.scale=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=e[0],c=e[1];return t[0]=n*s,t[1]=r*s,t[2]=o*c,t[3]=u*c,t[4]=i,t[5]=l,t},r.translate=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=e[0],c=e[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t[4]=n*s+o*c+i,t[5]=r*s+u*c+l,t},r.fromRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t},r.sub=r.subtract,r.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t},r.multiplyScalarAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t[3]=a[3]+e[3]*n,t[4]=a[4]+e[4]*n,t[5]=a[5]+e[5]*n,t},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=a[0],c=a[1],f=a[2],M=a[3],h=a[4],d=a[5];return Math.abs(e-s)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-c)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-M)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(l-d)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},t.exports=r},function(t,a,e){var n=e(0),r={scalar:{},SIMD:{}};r.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var a=new n.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.fromValues=function(t,a,e,r,o,u,i,l,s,c,f,M,h,d,x,v){var S=new n.ARRAY_TYPE(16);return S[0]=t,S[1]=a,S[2]=e,S[3]=r,S[4]=o,S[5]=u,S[6]=i,S[7]=l,S[8]=s,S[9]=c,S[10]=f,S[11]=M,S[12]=h,S[13]=d,S[14]=x,S[15]=v,S},r.set=function(t,a,e,n,r,o,u,i,l,s,c,f,M,h,d,x,v){return t[0]=a,t[1]=e,t[2]=n,t[3]=r,t[4]=o,t[5]=u,t[6]=i,t[7]=l,t[8]=s,t[9]=c,t[10]=f,t[11]=M,t[12]=h,t[13]=d,t[14]=x,t[15]=v,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,a){if(t===a){var e=a[1],n=a[2],r=a[3],o=a[6],u=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=e,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=r,t[13]=u,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},r.SIMD.transpose=function(t,a){var e,n,r,o,u,i,l,s,c,f;return e=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12),u=SIMD.Float32x4.shuffle(e,n,0,1,4,5),i=SIMD.Float32x4.shuffle(r,o,0,1,4,5),l=SIMD.Float32x4.shuffle(u,i,0,2,4,6),s=SIMD.Float32x4.shuffle(u,i,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),u=SIMD.Float32x4.shuffle(e,n,2,3,6,7),i=SIMD.Float32x4.shuffle(r,o,2,3,6,7),c=SIMD.Float32x4.shuffle(u,i,0,2,4,6),f=SIMD.Float32x4.shuffle(u,i,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},r.transpose=n.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=a[6],s=a[7],c=a[8],f=a[9],M=a[10],h=a[11],d=a[12],x=a[13],v=a[14],S=a[15],m=e*i-n*u,I=e*l-r*u,p=e*s-o*u,b=n*l-r*i,D=n*s-o*i,F=r*s-o*l,y=c*x-f*d,w=c*v-M*d,g=c*S-h*d,_=f*v-M*x,E=f*S-h*x,A=M*S-h*v,P=m*A-I*E+p*_+b*g-D*w+F*y;return P?(P=1/P,t[0]=(i*A-l*E+s*_)*P,t[1]=(r*E-n*A-o*_)*P,t[2]=(x*F-v*D+S*b)*P,t[3]=(M*D-f*F-h*b)*P,t[4]=(l*g-u*A-s*w)*P,t[5]=(e*A-r*g+o*w)*P,t[6]=(v*p-d*F-S*I)*P,t[7]=(c*F-M*p+h*I)*P,t[8]=(u*E-i*g+s*y)*P,t[9]=(n*g-e*E-o*y)*P,t[10]=(d*D-x*p+S*m)*P,t[11]=(f*p-c*D-h*m)*P,t[12]=(i*w-u*_-l*y)*P,t[13]=(e*_-n*w+r*y)*P,t[14]=(x*I-d*b-v*m)*P,t[15]=(c*b-f*I+M*m)*P,t):null},r.SIMD.invert=function(t,a){var e,n,r,o,u,i,l,s,c,f,M=SIMD.Float32x4.load(a,0),h=SIMD.Float32x4.load(a,4),d=SIMD.Float32x4.load(a,8),x=SIMD.Float32x4.load(a,12);return u=SIMD.Float32x4.shuffle(M,h,0,1,4,5),n=SIMD.Float32x4.shuffle(d,x,0,1,4,5),e=SIMD.Float32x4.shuffle(u,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,u,1,3,5,7),u=SIMD.Float32x4.shuffle(M,h,2,3,6,7),o=SIMD.Float32x4.shuffle(d,x,2,3,6,7),r=SIMD.Float32x4.shuffle(u,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,u,1,3,5,7),u=SIMD.Float32x4.mul(r,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.mul(n,u),l=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,u),i),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),u=SIMD.Float32x4.mul(n,r),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),i),c=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),u=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),i),s=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,u)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.mul(e,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),c),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,u)),u=SIMD.Float32x4.mul(e,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,u)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),s),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.mul(e,r),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),c),f=SIMD.Float32x4.mul(e,i),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),u=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(u,u),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(u,u))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},r.invert=n.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=a[4],i=a[5],l=a[6],s=a[7],c=a[8],f=a[9],M=a[10],h=a[11],d=a[12],x=a[13],v=a[14],S=a[15];return t[0]=i*(M*S-h*v)-f*(l*S-s*v)+x*(l*h-s*M),t[1]=-(n*(M*S-h*v)-f*(r*S-o*v)+x*(r*h-o*M)),t[2]=n*(l*S-s*v)-i*(r*S-o*v)+x*(r*s-o*l),t[3]=-(n*(l*h-s*M)-i*(r*h-o*M)+f*(r*s-o*l)),t[4]=-(u*(M*S-h*v)-c*(l*S-s*v)+d*(l*h-s*M)),t[5]=e*(M*S-h*v)-c*(r*S-o*v)+d*(r*h-o*M),t[6]=-(e*(l*S-s*v)-u*(r*S-o*v)+d*(r*s-o*l)),t[7]=e*(l*h-s*M)-u*(r*h-o*M)+c*(r*s-o*l),t[8]=u*(f*S-h*x)-c*(i*S-s*x)+d*(i*h-s*f),t[9]=-(e*(f*S-h*x)-c*(n*S-o*x)+d*(n*h-o*f)),t[10]=e*(i*S-s*x)-u*(n*S-o*x)+d*(n*s-o*i),t[11]=-(e*(i*h-s*f)-u*(n*h-o*f)+c*(n*s-o*i)),t[12]=-(u*(f*v-M*x)-c*(i*v-l*x)+d*(i*M-l*f)),t[13]=e*(f*v-M*x)-c*(n*v-r*x)+d*(n*M-r*f),t[14]=-(e*(i*v-l*x)-u*(n*v-r*x)+d*(n*l-r*i)),t[15]=e*(i*M-l*f)-u*(n*M-r*f)+c*(n*l-r*i),t},r.SIMD.adjoint=function(t,a){var e,n,r,o,u,i,l,s,c,f,M,h,d,e=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12);return c=SIMD.Float32x4.shuffle(e,n,0,1,4,5),i=SIMD.Float32x4.shuffle(r,o,0,1,4,5),u=SIMD.Float32x4.shuffle(c,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,c,1,3,5,7),c=SIMD.Float32x4.shuffle(e,n,2,3,6,7),s=SIMD.Float32x4.shuffle(r,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(l,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(i,c),M=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),f),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),d=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(u,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(u,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),h),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),M),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),d),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,M),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,d),t},r.adjoint=n.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var a=t[0],e=t[1],n=t[2],r=t[3],o=t[4],u=t[5],i=t[6],l=t[7],s=t[8],c=t[9],f=t[10],M=t[11],h=t[12],d=t[13],x=t[14],v=t[15];return(a*u-e*o)*(f*v-M*x)-(a*i-n*o)*(c*v-M*d)+(a*l-r*o)*(c*x-f*d)+(e*i-n*u)*(s*v-M*h)-(e*l-r*u)*(s*x-f*h)+(n*l-r*i)*(s*d-c*h)},r.SIMD.multiply=function(t,a,e){var n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.load(e,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),u))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(e,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),u))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(e,8),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),u))));SIMD.Float32x4.store(t,8,M);var h=SIMD.Float32x4.load(e,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),u))));return SIMD.Float32x4.store(t,12,d),t},r.scalar.multiply=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=a[6],c=a[7],f=a[8],M=a[9],h=a[10],d=a[11],x=a[12],v=a[13],S=a[14],m=a[15],I=e[0],p=e[1],b=e[2],D=e[3];return t[0]=I*n+p*i+b*f+D*x,t[1]=I*r+p*l+b*M+D*v,t[2]=I*o+p*s+b*h+D*S,t[3]=I*u+p*c+b*d+D*m,I=e[4],p=e[5],b=e[6],D=e[7],t[4]=I*n+p*i+b*f+D*x,t[5]=I*r+p*l+b*M+D*v,t[6]=I*o+p*s+b*h+D*S,t[7]=I*u+p*c+b*d+D*m,I=e[8],p=e[9],b=e[10],D=e[11],t[8]=I*n+p*i+b*f+D*x,t[9]=I*r+p*l+b*M+D*v,t[10]=I*o+p*s+b*h+D*S,t[11]=I*u+p*c+b*d+D*m,I=e[12],p=e[13],b=e[14],D=e[15],t[12]=I*n+p*i+b*f+D*x,t[13]=I*r+p*l+b*M+D*v,t[14]=I*o+p*s+b*h+D*S,t[15]=I*u+p*c+b*d+D*m,t},r.multiply=n.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,a,e){var n,r,o,u,i,l,s,c,f,M,h,d,x=e[0],v=e[1],S=e[2];return a===t?(t[12]=a[0]*x+a[4]*v+a[8]*S+a[12],t[13]=a[1]*x+a[5]*v+a[9]*S+a[13],t[14]=a[2]*x+a[6]*v+a[10]*S+a[14],t[15]=a[3]*x+a[7]*v+a[11]*S+a[15]):(n=a[0],r=a[1],o=a[2],u=a[3],i=a[4],l=a[5],s=a[6],c=a[7],f=a[8],M=a[9],h=a[10],d=a[11],t[0]=n,t[1]=r,t[2]=o,t[3]=u,t[4]=i,t[5]=l,t[6]=s,t[7]=c,t[8]=f,t[9]=M,t[10]=h,t[11]=d,t[12]=n*x+i*v+f*S+a[12],t[13]=r*x+l*v+M*S+a[13],t[14]=o*x+s*v+h*S+a[14],t[15]=u*x+c*v+d*S+a[15]),t},r.SIMD.translate=function(t,a,e){var n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4(e[0],e[1],e[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2));var l=SIMD.Float32x4.add(n,SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,u)));return SIMD.Float32x4.store(t,12,l),t},r.translate=n.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,a,e){var n=e[0],r=e[1],o=e[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.SIMD.scale=function(t,a,e){var n,r,o,u=SIMD.Float32x4(e[0],e[1],e[2],0);return n=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,0,0,0,0))),r=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,1,1,1,1))),o=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.scale=n.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,a,e,r){var o,u,i,l,s,c,f,M,h,d,x,v,S,m,I,p,b,D,F,y,w,g,_,E,A=r[0],P=r[1],O=r[2],z=Math.sqrt(A*A+P*P+O*O);return Math.abs(z)<n.EPSILON?null:(z=1/z,A*=z,P*=z,O*=z,o=Math.sin(e),u=Math.cos(e),i=1-u,l=a[0],s=a[1],c=a[2],f=a[3],M=a[4],h=a[5],d=a[6],x=a[7],v=a[8],S=a[9],m=a[10],I=a[11],p=A*A*i+u,b=P*A*i+O*o,D=O*A*i-P*o,F=A*P*i-O*o,y=P*P*i+u,w=O*P*i+A*o,g=A*O*i+P*o,_=P*O*i-A*o,E=O*O*i+u,t[0]=l*p+M*b+v*D,t[1]=s*p+h*b+S*D,t[2]=c*p+d*b+m*D,t[3]=f*p+x*b+I*D,t[4]=l*F+M*y+v*w,t[5]=s*F+h*y+S*w,t[6]=c*F+d*y+m*w,t[7]=f*F+x*y+I*w,t[8]=l*g+M*_+v*E,t[9]=s*g+h*_+S*E,t[10]=c*g+d*_+m*E,t[11]=f*g+x*_+I*E,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},r.scalar.rotateX=function(t,a,e){var n=Math.sin(e),r=Math.cos(e),o=a[4],u=a[5],i=a[6],l=a[7],s=a[8],c=a[9],f=a[10],M=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*r+s*n,t[5]=u*r+c*n,t[6]=i*r+f*n,t[7]=l*r+M*n,t[8]=s*r-o*n,t[9]=c*r-u*n,t[10]=f*r-i*n,t[11]=M*r-l*n,t},r.SIMD.rotateX=function(t,a,e){var n=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(o,n))),t},r.rotateX=n.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,a,e){var n=Math.sin(e),r=Math.cos(e),o=a[0],u=a[1],i=a[2],l=a[3],s=a[8],c=a[9],f=a[10],M=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*r-s*n,t[1]=u*r-c*n,t[2]=i*r-f*n,t[3]=l*r-M*n,t[8]=o*n+s*r,t[9]=u*n+c*r,t[10]=i*n+f*r,t[11]=l*n+M*r,t},r.SIMD.rotateY=function(t,a,e){var n=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),u=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),t},r.rotateY=n.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,a,e){var n=Math.sin(e),r=Math.cos(e),o=a[0],u=a[1],i=a[2],l=a[3],s=a[4],c=a[5],f=a[6],M=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*r+s*n,t[1]=u*r+c*n,t[2]=i*r+f*n,t[3]=l*r+M*n,t[4]=s*r-o*n,t[5]=c*r-u*n,t[6]=f*r-i*n,t[7]=M*r-l*n,t},r.SIMD.rotateZ=function(t,a,e){var n=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),u=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(o,n))),t},r.rotateZ=n.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,a,e){var r,o,u,i=e[0],l=e[1],s=e[2],c=Math.sqrt(i*i+l*l+s*s);return Math.abs(c)<n.EPSILON?null:(c=1/c,i*=c,l*=c,s*=c,r=Math.sin(a),o=Math.cos(a),u=1-o,t[0]=i*i*u+o,t[1]=l*i*u+s*r,t[2]=s*i*u-l*r,t[3]=0,t[4]=i*l*u-s*r,t[5]=l*l*u+o,t[6]=s*l*u+i*r,t[7]=0,t[8]=i*s*u+l*r,t[9]=l*s*u-i*r,t[10]=s*s*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,a){var e=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=n+n,l=r+r,s=o+o,c=n*i,f=n*l,M=n*s,h=r*l,d=r*s,x=o*s,v=u*i,S=u*l,m=u*s;return t[0]=1-(h+x),t[1]=f+m,t[2]=M-S,t[3]=0,t[4]=f-m,t[5]=1-(c+x),t[6]=d+v,t[7]=0,t[8]=M+S,t[9]=d-v,t[10]=1-(c+h),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},r.getRotation=function(t,a){var e=a[0]+a[5]+a[10],n=0;return e>0?(n=2*Math.sqrt(e+1),t[3]=.25*n,t[0]=(a[6]-a[9])/n,t[1]=(a[8]-a[2])/n,t[2]=(a[1]-a[4])/n):a[0]>a[5]&a[0]>a[10]?(n=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/n,t[0]=.25*n,t[1]=(a[1]+a[4])/n,t[2]=(a[8]+a[2])/n):a[5]>a[10]?(n=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/n,t[0]=(a[1]+a[4])/n,t[1]=.25*n,t[2]=(a[6]+a[9])/n):(n=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/n,t[0]=(a[8]+a[2])/n,t[1]=(a[6]+a[9])/n,t[2]=.25*n),t},r.fromRotationTranslationScale=function(t,a,e,n){var r=a[0],o=a[1],u=a[2],i=a[3],l=r+r,s=o+o,c=u+u,f=r*l,M=r*s,h=r*c,d=o*s,x=o*c,v=u*c,S=i*l,m=i*s,I=i*c,p=n[0],b=n[1],D=n[2];return t[0]=(1-(d+v))*p,t[1]=(M+I)*p,t[2]=(h-m)*p,t[3]=0,t[4]=(M-I)*b,t[5]=(1-(f+v))*b,t[6]=(x+S)*b,t[7]=0,t[8]=(h+m)*D,t[9]=(x-S)*D,t[10]=(1-(f+d))*D,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,a,e,n,r){var o=a[0],u=a[1],i=a[2],l=a[3],s=o+o,c=u+u,f=i+i,M=o*s,h=o*c,d=o*f,x=u*c,v=u*f,S=i*f,m=l*s,I=l*c,p=l*f,b=n[0],D=n[1],F=n[2],y=r[0],w=r[1],g=r[2];return t[0]=(1-(x+S))*b,t[1]=(h+p)*b,t[2]=(d-I)*b,t[3]=0,t[4]=(h-p)*D,t[5]=(1-(M+S))*D,t[6]=(v+m)*D,t[7]=0,t[8]=(d+I)*F,t[9]=(v-m)*F,t[10]=(1-(M+x))*F,t[11]=0,t[12]=e[0]+y-(t[0]*y+t[4]*w+t[8]*g),t[13]=e[1]+w-(t[1]*y+t[5]*w+t[9]*g),t[14]=e[2]+g-(t[2]*y+t[6]*w+t[10]*g),t[15]=1,t},r.fromQuat=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=e+e,i=n+n,l=r+r,s=e*u,c=n*u,f=n*i,M=r*u,h=r*i,d=r*l,x=o*u,v=o*i,S=o*l;return t[0]=1-f-d,t[1]=c+S,t[2]=M-v,t[3]=0,t[4]=c-S,t[5]=1-s-d,t[6]=h+x,t[7]=0,t[8]=M+v,t[9]=h-x,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,a,e,n,r,o,u){var i=1/(e-a),l=1/(r-n),s=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(e+a)*i,t[9]=(r+n)*l,t[10]=(u+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*s,t[15]=0,t},r.perspective=function(t,a,e,n,r){var o=1/Math.tan(a/2),u=1/(n-r);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*u,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,a,e,n){var r=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),u=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),l=2/(u+i),s=2/(r+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(u-i)*l*.5,t[9]=(r-o)*s*.5,t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t},r.ortho=function(t,a,e,n,r,o,u){var i=1/(a-e),l=1/(n-r),s=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+e)*i,t[13]=(r+n)*l,t[14]=(u+o)*s,t[15]=1,t},r.lookAt=function(t,a,e,o){var u,i,l,s,c,f,M,h,d,x,v=a[0],S=a[1],m=a[2],I=o[0],p=o[1],b=o[2],D=e[0],F=e[1],y=e[2];return Math.abs(v-D)<n.EPSILON&&Math.abs(S-F)<n.EPSILON&&Math.abs(m-y)<n.EPSILON?r.identity(t):(M=v-D,h=S-F,d=m-y,x=1/Math.sqrt(M*M+h*h+d*d),M*=x,h*=x,d*=x,u=p*d-b*h,i=b*M-I*d,l=I*h-p*M,x=Math.sqrt(u*u+i*i+l*l),x?(x=1/x,u*=x,i*=x,l*=x):(u=0,i=0,l=0),s=h*l-d*i,c=d*u-M*l,f=M*i-h*u,x=Math.sqrt(s*s+c*c+f*f),x?(x=1/x,s*=x,c*=x,f*=x):(s=0,c=0,f=0),t[0]=u,t[1]=s,t[2]=M,t[3]=0,t[4]=i,t[5]=c,t[6]=h,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=-(u*v+i*S+l*m),t[13]=-(s*v+c*S+f*m),t[14]=-(M*v+h*S+d*m),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t[6]=a[6]+e[6],t[7]=a[7]+e[7],t[8]=a[8]+e[8],t[9]=a[9]+e[9],t[10]=a[10]+e[10],t[11]=a[11]+e[11],t[12]=a[12]+e[12],t[13]=a[13]+e[13],t[14]=a[14]+e[14],t[15]=a[15]+e[15],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t[6]=a[6]-e[6],t[7]=a[7]-e[7],t[8]=a[8]-e[8],t[9]=a[9]-e[9],t[10]=a[10]-e[10],t[11]=a[11]-e[11],t[12]=a[12]-e[12],t[13]=a[13]-e[13],t[14]=a[14]-e[14],t[15]=a[15]-e[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*e,t[9]=a[9]*e,t[10]=a[10]*e,t[11]=a[11]*e,t[12]=a[12]*e,t[13]=a[13]*e,t[14]=a[14]*e,t[15]=a[15]*e,t},r.multiplyScalarAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t[2]=a[2]+e[2]*n,t[3]=a[3]+e[3]*n,t[4]=a[4]+e[4]*n,t[5]=a[5]+e[5]*n,t[6]=a[6]+e[6]*n,t[7]=a[7]+e[7]*n,t[8]=a[8]+e[8]*n,t[9]=a[9]+e[9]*n,t[10]=a[10]+e[10]*n,t[11]=a[11]+e[11]*n,t[12]=a[12]+e[12]*n,t[13]=a[13]+e[13]*n,t[14]=a[14]+e[14]*n,t[15]=a[15]+e[15]*n,t},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},r.equals=function(t,a){var e=t[0],r=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=t[6],c=t[7],f=t[8],M=t[9],h=t[10],d=t[11],x=t[12],v=t[13],S=t[14],m=t[15],I=a[0],p=a[1],b=a[2],D=a[3],F=a[4],y=a[5],w=a[6],g=a[7],_=a[8],E=a[9],A=a[10],P=a[11],O=a[12],z=a[13],R=a[14],q=a[15];return Math.abs(e-I)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(I))&&Math.abs(r-p)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-b)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(u-D)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(i-F)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(l-y)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(s-w)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(c-g)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-_)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(M-E)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(E))&&Math.abs(h-A)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-P)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(x-O)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(v-z)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(S-R)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(R))&&Math.abs(m-q)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))},t.exports=r},function(t,a,e){var n=e(0),r=e(5),o=e(6),u=e(7),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.rotationTo=function(){var t=o.create(),a=o.fromValues(1,0,0),e=o.fromValues(0,1,0);return function(n,r,u){var l=o.dot(r,u);return l<-.999999?(o.cross(t,a,r),o.length(t)<1e-6&&o.cross(t,e,r),o.normalize(t,t),i.setAxisAngle(n,t,Math.PI),n):l>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,r,u),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+l,i.normalize(n,n))}}(),i.setAxes=function(){var t=r.create();return function(a,e,n,r){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],i.normalize(a,i.fromMat3(a,t))}}(),i.clone=u.clone,i.fromValues=u.fromValues,i.copy=u.copy,i.set=u.set,i.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.setAxisAngle=function(t,a,e){e*=.5;var n=Math.sin(e);return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=Math.cos(e),t},i.getAxisAngle=function(t,a){var e=2*Math.acos(a[3]),n=Math.sin(e/2);return 0!=n?(t[0]=a[0]/n,t[1]=a[1]/n,t[2]=a[2]/n):(t[0]=1,t[1]=0,t[2]=0),e},i.add=u.add,i.multiply=function(t,a,e){var n=a[0],r=a[1],o=a[2],u=a[3],i=e[0],l=e[1],s=e[2],c=e[3];return t[0]=n*c+u*i+r*s-o*l,t[1]=r*c+u*l+o*i-n*s,t[2]=o*c+u*s+n*l-r*i,t[3]=u*c-n*i-r*l-o*s,t},i.mul=i.multiply,i.scale=u.scale,i.rotateX=function(t,a,e){e*=.5;var n=a[0],r=a[1],o=a[2],u=a[3],i=Math.sin(e),l=Math.cos(e);return t[0]=n*l+u*i,t[1]=r*l+o*i,t[2]=o*l-r*i,t[3]=u*l-n*i,t},i.rotateY=function(t,a,e){e*=.5;var n=a[0],r=a[1],o=a[2],u=a[3],i=Math.sin(e),l=Math.cos(e);return t[0]=n*l-o*i,t[1]=r*l+u*i,t[2]=o*l+n*i,t[3]=u*l-r*i,t},i.rotateZ=function(t,a,e){e*=.5;var n=a[0],r=a[1],o=a[2],u=a[3],i=Math.sin(e),l=Math.cos(e);return t[0]=n*l+r*i,t[1]=r*l-n*i,t[2]=o*l+u*i,t[3]=u*l-o*i,t},i.calculateW=function(t,a){var e=a[0],n=a[1],r=a[2];return t[0]=e,t[1]=n,t[2]=r,t[3]=Math.sqrt(Math.abs(1-e*e-n*n-r*r)),t},i.dot=u.dot,i.lerp=u.lerp,i.slerp=function(t,a,e,n){var r,o,u,i,l,s=a[0],c=a[1],f=a[2],M=a[3],h=e[0],d=e[1],x=e[2],v=e[3];return o=s*h+c*d+f*x+M*v,o<0&&(o=-o,h=-h,d=-d,x=-x,v=-v),1-o>1e-6?(r=Math.acos(o),u=Math.sin(r),i=Math.sin((1-n)*r)/u,l=Math.sin(n*r)/u):(i=1-n,l=n),t[0]=i*s+l*h,t[1]=i*c+l*d,t[2]=i*f+l*x,t[3]=i*M+l*v,t},i.sqlerp=function(){var t=i.create(),a=i.create();return function(e,n,r,o,u,l){return i.slerp(t,n,u,l),i.slerp(a,r,o,l),i.slerp(e,t,a,2*l*(1-l)),e}}(),i.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],u=e*e+n*n+r*r+o*o,i=u?1/u:0;return t[0]=-e*i,t[1]=-n*i,t[2]=-r*i,t[3]=o*i,t},i.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},i.length=u.length,i.len=i.length,i.squaredLength=u.squaredLength,i.sqrLen=i.squaredLength,i.normalize=u.normalize,i.fromMat3=function(t,a){var e,n=a[0]+a[4]+a[8];if(n>0)e=Math.sqrt(n+1),t[3]=.5*e,e=.5/e,t[0]=(a[5]-a[7])*e,t[1]=(a[6]-a[2])*e,t[2]=(a[1]-a[3])*e;else{var r=0;a[4]>a[0]&&(r=1),a[8]>a[3*r+r]&&(r=2);var o=(r+1)%3,u=(r+2)%3;e=Math.sqrt(a[3*r+r]-a[3*o+o]-a[3*u+u]+1),t[r]=.5*e,e=.5/e,t[3]=(a[3*o+u]-a[3*u+o])*e,t[o]=(a[3*o+r]+a[3*r+o])*e,t[u]=(a[3*u+r]+a[3*r+u])*e}return t},i.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=u.exactEquals,i.equals=u.equals,t.exports=i},function(t,a,e){var n=e(0),r={};r.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var a=new n.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},r.fromValues=function(t,a){var e=new n.ARRAY_TYPE(2);return e[0]=t,e[1]=a,e},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},r.set=function(t,a,e){return t[0]=a,t[1]=e,t},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t},r.sub=r.subtract,r.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t},r.mul=r.multiply,r.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t},r.div=r.divide,r.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},r.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},r.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t},r.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t},r.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},r.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t},r.scaleAndAdd=function(t,a,e,n){return t[0]=a[0]+e[0]*n,t[1]=a[1]+e[1]*n,t},r.distance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1];return Math.sqrt(e*e+n*n)},r.dist=r.distance,r.squaredDistance=function(t,a){var e=a[0]-t[0],n=a[1]-t[1];return e*e+n*n},r.sqrDist=r.squaredDistance,r.length=function(t){var a=t[0],e=t[1];return Math.sqrt(a*a+e*e)},r.len=r.length,r.squaredLength=function(t){var a=t[0],e=t[1];return a*a+e*e},r.sqrLen=r.squaredLength,r.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},r.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},r.normalize=function(t,a){var e=a[0],n=a[1],r=e*e+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=a[0]*r,t[1]=a[1]*r),t},r.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},r.cross=function(t,a,e){var n=a[0]*e[1]-a[1]*e[0];return t[0]=t[1]=0,t[2]=n,t},r.lerp=function(t,a,e,n){var r=a[0],o=a[1];return t[0]=r+n*(e[0]-r),t[1]=o+n*(e[1]-o),t},r.random=function(t,a){a=a||1;var e=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(e)*a,t[1]=Math.sin(e)*a,t},r.transformMat2=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r,t[1]=e[1]*n+e[3]*r,t},r.transformMat2d=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t},r.transformMat3=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[3]*r+e[6],t[1]=e[1]*n+e[4]*r+e[7],t},r.transformMat4=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[4]*r+e[12],t[1]=e[1]*n+e[5]*r+e[13],t},r.forEach=function(){var t=r.create();return function(a,e,n,r,o,u){var i,l;for(e||(e=2),n||(n=0),l=r?Math.min(r*e+n,a.length):a.length,i=n;i<l;i+=e)t[0]=a[i],t[1]=a[i+1],o(t,t,u),a[i]=t[0],a[i+1]=t[1];return a}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},r.equals=function(t,a){var e=t[0],r=t[1],o=a[0],u=a[1];return Math.abs(e-o)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))},t.exports=r},function(t,a){a.vertexNormals=function(t,a,e){for(var n=a.length,r=new Array(n),o=void 0===e?1e-6:e,u=0;u<n;++u)r[u]=[0,0,0];for(var u=0;u<t.length;++u)for(var i=t[u],l=0,s=i[i.length-1],c=i[0],f=0;f<i.length;++f){l=s,s=c,c=i[(f+1)%i.length];for(var M=a[l],h=a[s],d=a[c],x=new Array(3),v=0,S=new Array(3),m=0,I=0;I<3;++I)x[I]=M[I]-h[I],v+=x[I]*x[I],S[I]=d[I]-h[I],m+=S[I]*S[I];if(v*m>o)for(var p=r[s],b=1/Math.sqrt(v*m),I=0;I<3;++I){var D=(I+1)%3,F=(I+2)%3;p[I]+=b*(S[D]*x[F]-S[F]*x[D])}}for(var u=0;u<n;++u){for(var p=r[u],y=0,I=0;I<3;++I)y+=p[I]*p[I];if(y>o)for(var b=1/Math.sqrt(y),I=0;I<3;++I)p[I]*=b;else for(var I=0;I<3;++I)p[I]=0}return r},a.faceNormals=function(t,a,e){for(var n=t.length,r=new Array(n),o=void 0===e?1e-6:e,u=0;u<n;++u){for(var i=t[u],l=new Array(3),s=0;s<3;++s)l[s]=a[i[s]];for(var c=new Array(3),f=new Array(3),s=0;s<3;++s)c[s]=l[1][s]-l[0][s],f[s]=l[2][s]-l[0][s];for(var M=new Array(3),h=0,s=0;s<3;++s){var d=(s+1)%3,x=(s+2)%3;M[s]=c[d]*f[x]-c[x]*f[d],h+=M[s]*M[s]}h=h>o?1/Math.sqrt(h):0;for(var s=0;s<3;++s)M[s]*=h;r[u]=M}return r}},function(t,a){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e}])});